---
toc: true
title:  "[Spring Webflux] routerì—ì„œ API pathì— ì •ê·œí‘œí˜„ì‹ì„ ì ìš©í•  ë•Œ ì£¼ì˜í•˜ì"
last_modified_at:   2024-10-16
categories : Project
excerpt: ""
image: ""
sitemap :
  changefreq : weekly
  priority : 1.0
use_math: true
published: true
---

webfluxì—ì„œ routerë¥¼ ì‘ì„±í•˜ëŠ” ê²½ìš° ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•´ì¤„ ìˆ˜ ìˆë‹¤.<br>
`/tutorial`, `/tutorial/stage1`ë¼ëŠ” pathì˜ API 2ê°œë¥¼ ì§€ì›í•˜ê³  ìˆëŠ” ëª¨ìŠµì´ë‹¤.<br>
```kotlin
@Configuration
class TestRouter {

    @Bean
    fun testRouterBean(testHandler: TestHandler) = 
    coRouter {
        GET("/tutorial", testHandler::startTutorial)
        GET("/tutorial/stage1", testHandler::startTutorialStage)
    }
}
```
<br>

API pathì—ëŠ” **ì •ê·œí‘œí˜„ì‹**ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ì²˜ëŸ¼ `[a-z]+`ë¥¼ ì¶”ê°€í•˜ë©´ /tutorial/ ë’¤ì— ìµœì†Œ 1ì ì´ìƒì˜ ì†Œë¬¸ì ì•ŒíŒŒë²³ìœ¼ë¡œ 
ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ëª¨ë‘ í•´ë‹¹ APIë¡œ ë°›ì„ ìˆ˜ ìˆê²Œëœë‹¤. (Webflux ë¿ë§Œ ì•„ë‹ˆë¼ MVC ì—ì„œë„ ì§€ì›í•œë‹¤)<br>
```kotlin
GET("/tutorial/[a-z]+", testHandler::startTutorial)
```
<br>

## ë¬¸ì œ ìƒí™©
routerë¥¼ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ê³  `/tutorial/stage1`ë¥¼ í˜¸ì¶œí•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?
```kotlin
@Configuration
class TestRouter {

    @Bean
    fun testRouterBean(testHandler: TestHandler) = 
    coRouter {
        GET("/tutorial/[a-z]+", testHandler::startTutorial)
        GET("/tutorial/stage1", testHandler::startTutorialStage)
    }
}
```
<br>

<div style="text-align: center;">
    <img src="https://lh3.google.com/u/0/d/1eIzEGPT6f2zZroyUim8tHPUAkD87s8_S" width="70%" height="70%" title="$20241016_test_router.png" alt="?"/>
</div>

ê·¸ëŸ¬ë©´ **/tutorial/[a-z]+**ì—ì„œ ìš”ì²­ì„ ì½ì–´ë²„ë¦¬ê²Œ ëœë‹¤ğŸ˜… `stage1`ì„ `[a-z]+`ì—ì„œ ì½ì–´ë²„ë¦° ìƒí™©ì´ë‹¤..!<br>
routerëŠ” ìœ„ì—ì„œ ì•„ë˜ë¡œ ë§¤ì¹­ë˜ëŠ”ì§€ í™•ì¸í•œë‹¤.<br>

## í•´ê²° ë°©ë²•
`stage1`ì´ ì •ê·œí‘œí˜„ì‹ `[a-z]+`ì— ì½íˆì§€ ì•Šë„ë¡ í•¸ë“¤ëŸ¬ ìˆœì„œë¥¼ ë°”ê¿”ì£¼ë©´ í•´ê²°ëœë‹¤.<br>
```kotlin
@Configuration
class TestRouter {

    @Bean
    fun testRouterBean(testHandler: TestHandler) = 
    coRouter {
        GET("/tutorial/stage1", testHandler::startTutorialStage)
        GET("/tutorial/[a-z]+", testHandler::startTutorial)
    }
}
```

## References
- [Baeldung : Exploring the Spring WebFlux URL Matching](https://www.baeldung.com/spring-5-mvc-url-matching#4-baeldunga-z-regex-in-path-variable)